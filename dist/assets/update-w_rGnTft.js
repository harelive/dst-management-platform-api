import{t as w}from"./index-C_B8vjJv.js";import{u as j,a as z,g as A,c as V,o as H,r as c,A as n,d as f,e as h,f as s,w as i,p as I,j as a,i as l,t as e,m as x,n as S,V as F,z as O,x as q}from"./index-Dcr4vpJk.js";const G={class:"page-div"},J={class:"card-header"},K={style:{"line-height":"50px"}},L={style:{"line-height":"50px"}},P={style:{"line-height":"50px"}},Q={key:0},R={key:1},W=F({name:"toolsUpdate"}),ee=Object.assign(W,{setup(X){const{t}=j(),{isMobile:C}=z(),y=A(),E=V(()=>y.isDark);V(()=>y.language),H(()=>{D()});const _=c(!1),v=c(!1),d=c(""),m=c(!1),p=c(0),r=c(0),D=()=>{w.update.get().then(o=>{d.value=o.data.updateSetting.time,m.value=o.data.updateSetting.enable,p.value=o.data.version.local,r.value=o.data.version.server})},b=()=>{if(!d.value){O(t("tools.backup.timeChangeTip"));return}_.value=!0,v.value=!0;const o={time:d.value,enable:m.value};w.update.put(o).then(u=>{q(u.message)}).finally(()=>{_.value=!1,v.value=!1})};return(o,u)=>{const M=n("el-time-picker"),N=n("el-switch"),k=n("el-tag"),T=n("el-alert"),U=n("el-card"),B=n("el-col"),$=n("el-row");return f(),h("div",G,[s($,{gutter:10},{default:i(()=>[s(B,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:i(()=>[s(U,{style:I(a(C)?"min-height: 500px":"min-height: 700px"),shadow:"never"},{header:i(()=>[l("div",J,e(a(t)("tools.update.title")),1)]),default:i(()=>[l("div",null,[l("div",K,[l("span",null,e(a(t)("tools.update.text1")),1),s(M,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=g=>d.value=g),loading:_.value,style:{width:"120px",margin:"0 8px"},clearable:!1,editable:!1,"value-format":"HH:mm:ss",onChange:b},null,8,["modelValue","loading"]),l("span",null,e(a(t)("tools.update.text2")),1)]),l("div",L,[l("span",null,e(a(t)("tools.update.text3")),1),s(N,{modelValue:m.value,"onUpdate:modelValue":u[1]||(u[1]=g=>m.value=g),loading:v.value,"active-text":o.$t("tools.update.switchEnable"),"inactive-text":o.$t("tools.update.switchDisable"),"inline-prompt":"",onChange:b,style:{margin:"0 8px","--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","loading","active-text","inactive-text"]),l("span",null,e(a(t)("tools.update.text4")),1)]),l("div",P,[l("span",null,e(a(t)("tools.update.text5")),1),s(k,{type:p.value===r.value?"success":"warning",style:{margin:"0 8px"}},{default:i(()=>[x(e(p.value),1)]),_:1},8,["type"]),l("span",null,e(a(t)("tools.update.text6")),1),s(k,{type:"primary",style:{margin:"0 8px"}},{default:i(()=>[x(e(r.value),1)]),_:1}),p.value===r.value?(f(),h("span",Q,e(a(t)("tools.update.text7")),1)):S("",!0),p.value!==r.value?(f(),h("span",R,e(a(t)("tools.update.text8")),1)):S("",!0)])]),s(T,{effect:E.value?"light":"dark",type:"warning",closable:!1,style:{"margin-top":"20px"}},{default:i(()=>[x(e(a(t)("tools.backup.alert")),1)]),_:1},8,["effect"])]),_:1},8,["style"])]),_:1})]),_:1})])}}});export{ee as default};
