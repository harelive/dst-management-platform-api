import{_ as $,u as A,a as E,g as G,c as D,r as g,A as n,B as Z,d as V,e as j,f as o,w as a,p as H,j as s,i as t,m as l,t as r,k as K,l as T,a2 as W,z as J,x as O}from"./index-Dcr4vpJk.js";import{s as Q}from"./index-Dj_NDL5s.js";const X={class:"page-div"},Y={class:"card-header"},h={style:{"line-height":"30px"}},ee={class:"tip custom-block"},te={class:"bolder"},le={class:"card-footer"},se={class:"el-upload__text"},oe={class:"el-upload__tip"},ae={__name:"import",setup(ie){const{t:i}=A(),{isMobile:U}=E(),_=G(),S=D(()=>_.isDark),B=D(()=>_.language),c=g(!1),d=g(!1),p=g(!1),f=g(),C=()=>{f.value&&f.value.clearFiles(),p.value=!0},R=u=>/\.zip$/i.test(u.name)?!0:(J(B.value==="zh"?"请上传zip文件":"Please upload a zip file"),!1),M=u=>{d.value=!0;const e=new FormData;e.append("file",u.file),Q.import.upload.post(e).then(m=>{O(m.message)}).finally(()=>{p.value=!1,d.value=!1})},k=new URL("/assets/zip-image-DCIK-Up-.png",import.meta.url).href,w=new URL("/assets/zip-image-master-BqrqyRWw.png",import.meta.url).href,L=new URL("/assets/help-lSGot43l.gif",import.meta.url).href;return(u,e)=>{const m=n("el-button"),b=n("el-col"),x=n("el-image"),y=n("el-row"),q=n("el-card"),F=n("el-icon"),I=n("el-upload"),z=n("el-dialog"),N=n("el-alert"),P=Z("loading");return V(),j("div",X,[o(y,{gutter:10},{default:a(()=>[o(b,{lg:24,md:24,sm:24,span:24,xs:24,style:{"margin-top":"10px"}},{default:a(()=>[o(q,{style:H(s(U)?"min-height: 400px":"min-height: 600px"),shadow:"never"},{header:a(()=>[t("div",Y,[l(r(s(i)("setting.import.title"))+" ",1),o(m,{type:"success",onClick:e[0]||(e[0]=v=>c.value=!0)},{default:a(()=>[l(r(s(i)("setting.import.buttonHelp")),1)]),_:1})])]),footer:a(()=>[t("div",le,[o(m,{type:"primary",onClick:C},{default:a(()=>[l(r(s(i)("setting.import.button")),1)]),_:1})])]),default:a(()=>[t("div",null,[t("div",h,r(s(i)("setting.import.text1")),1),t("div",null,[o(y,{gutter:20},{default:a(()=>[o(b,{span:12,lg:12,md:12,sm:24,xs:24},{default:a(()=>[t("div",ee,[t("div",null,[t("span",te,r(s(i)("setting.import.text2")),1)]),e[3]||(e[3]=t("div",null,".",-1)),e[4]||(e[4]=t("div",null,"├── adminlist.txt",-1)),e[5]||(e[5]=t("div",null,"├── blocklist.txt",-1)),e[6]||(e[6]=t("div",null,"├── Caves",-1)),e[7]||(e[7]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── backup")],-1)),e[8]||(e[8]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── leveldataoverride.lua")],-1)),e[9]||(e[9]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── modoverrides.lua")],-1)),e[10]||(e[10]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── save")],-1)),e[11]||(e[11]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── server_chat_log.txt")],-1)),e[12]||(e[12]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── server.ini")],-1)),e[13]||(e[13]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   └── server_log.txt")],-1)),e[14]||(e[14]=t("div",null,[t("span",{class:"bolder"},"├── cluster.ini")],-1)),e[15]||(e[15]=t("div",null,[t("span",{class:"bolder"},"├── cluster_token.txt")],-1)),e[16]||(e[16]=t("div",{class:"bolder"},"├── Master",-1)),e[17]||(e[17]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── backup")],-1)),e[18]||(e[18]=t("div",{class:"bolder"},[t("span",{class:"tree-tab"},"│"),l("   ├── leveldataoverride.lua")],-1)),e[19]||(e[19]=t("div",{class:"bolder"},[t("span",{class:"tree-tab"},"│"),l("   ├── modoverrides.lua")],-1)),e[20]||(e[20]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── save")],-1)),e[21]||(e[21]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   ├── server_chat_log.txt")],-1)),e[22]||(e[22]=t("div",{class:"bolder"},[t("span",{class:"tree-tab"},"│"),l("   ├── server.ini")],-1)),e[23]||(e[23]=t("div",null,[t("span",{class:"tree-tab"},"│"),l("   └── server_log.txt")],-1)),e[24]||(e[24]=t("div",null,"└── whitelist.txt",-1))])]),_:1}),o(b,{span:12,lg:12,md:12,sm:24,xs:24},{default:a(()=>[t("div",null,[o(x,{"hide-on-click-modal":!0,"initial-index":4,"max-scale":7,"min-scale":.2,"preview-src-list":[s(k)],src:s(k),"zoom-rate":1.2,fit:"cover",style:{"margin-top":"10px","margin-bottom":"10px"}},null,8,["preview-src-list","src"])]),t("div",null,[o(x,{"hide-on-click-modal":!0,"initial-index":4,"max-scale":7,"min-scale":.2,"preview-src-list":[s(w)],src:s(w),"zoom-rate":1.2,fit:"cover",style:{"margin-top":"10px","margin-bottom":"10px"}},null,8,["preview-src-list","src"])])]),_:1})]),_:1})])])]),_:1},8,["style"])]),_:1})]),_:1}),o(z,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=v=>p.value=v),title:s(i)("setting.import.dialog.title"),"close-on-press-escape":!d.value,"show-close":!d.value,"close-on-click-modal":!d.value,width:"45%"},{default:a(()=>[K((V(),T(I,{ref_key:"uploadRef",ref:f,"before-upload":R,"http-request":M,limit:1,drag:""},{tip:a(()=>[t("div",oe,r(s(i)("setting.import.dialog.tip")),1)]),default:a(()=>[o(F,{class:"el-icon--upload"},{default:a(()=>[o(s(W))]),_:1}),t("div",se,[l(r(s(i)("setting.import.dialog.text1"))+" ",1),t("em",null,r(s(i)("setting.import.dialog.text2")),1)])]),_:1})),[[P,d.value]])]),_:1},8,["modelValue","title","close-on-press-escape","show-close","close-on-click-modal"]),o(z,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=v=>c.value=v),title:s(i)("setting.import.dialog2.title"),width:"70%"},{default:a(()=>[o(N,{effect:S.value?"light":"dark",type:"error",closable:!1},{default:a(()=>[l(r(s(i)("setting.import.dialog2.text1")),1)]),_:1},8,["effect"]),o(x,{src:s(L),fit:"fill",class:"fcc",style:{"margin-top":"10px"}},null,8,["src"])]),_:1},8,["modelValue","title"])])}}},de=$(ae,[["__scopeId","data-v-27c32851"]]);export{de as default};
