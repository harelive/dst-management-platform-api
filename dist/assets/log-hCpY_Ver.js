import{u as j,a as D,g as N,c as V,o as q,r as g,b as A,A as o,d as E,l as L,w as a,i as u,m as y,t as v,j as n,f as s,p as M}from"./index-Dcr4vpJk.js";import{s as R}from"./index-DzqfEGkj.js";import{l as T}from"./index-CuSlNsQj.js";const $={class:"card-header"},z={style:{"font-weight":"lighter"}},F={class:"card-footer"},K={__name:"log",props:{type:String},setup(w){const b=w,{t:r}=j(),{isMobile:c}=D(),_=N(),x=V(()=>_.isDark);V(()=>_.language),q(()=>{k(),S()});const S=()=>{c.value?t.value.line=20:t.value.line=25},d=g(1),t=g({line:25,type:b.type}),p=g(""),f=()=>{T.logValue.get(t.value).then(m=>{p.value=m.data.join(`
`)})};let i=null;const k=()=>{i=setInterval(()=>{d.value===1&&f()},2e3)},h=()=>{i&&(clearInterval(i),i=null)};return A(()=>{h(),window.removeEventListener("beforeunload",h)}),(m,e)=>{const P=o("el-switch"),B=o("el-input-number"),C=o("el-button"),I=o("el-tooltip"),U=o("el-card");return E(),L(U,{shadow:"never",style:M(n(c)?"min-height: 500px":"min-height: 700px")},{header:a(()=>[u("div",$,[y(v(n(r)("logs.logs"))+" ",1),u("div",null,[u("span",z,v(n(r)("logs.autoPull")),1),s(P,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=l=>d.value=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])])])]),footer:a(()=>[u("div",F,[s(B,{modelValue:t.value.line,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.line=l),"controls-position":"right",style:{width:"100px"}},null,8,["modelValue"]),s(I,{effect:"light",content:m.$t("logs.manualPullTips"),placement:"top"},{default:a(()=>[s(C,{type:"primary",onClick:f,style:{"margin-left":"10px"}},{default:a(()=>[y(v(n(r)("logs.manualPull")),1)]),_:1})]),_:1},8,["content"])])]),default:a(()=>[s(R,{ref:"editor",modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l),mode:"javascript",theme:x.value?"darcula":"idea",height:n(c)?420:600,style:{width:"100%"}},null,8,["modelValue","theme","height"])]),_:1},8,["style"])}}};export{K as default};
